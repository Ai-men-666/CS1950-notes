
## GreatIdea CS1950 
 王旌羽

### 恩尼格密码机及其原理

#### 恩尼格密码机组成

恩尼格密码机分为机械系统和电子系统。

- 机械系统
  - 转子 在按键按下后进行旋转
  - 键盘 用来进行输入的操作
- 电子系统
  - 电流通路会影响密码结果
  - 按下键盘后，电流会流经各种线路，最后使得一个字母被点亮，这是加密后的密文
  - 每按下一次键盘，转子就会旋转
  
#### 恩尼格密码机的加密原理

一般情况下，如果只对密码表进行一次偏移，得到的密码非常容易破译。
如 ```A -> E ```, ```B -> F```,但是由于每一次按下键盘，恩格玛密码机的转子就会旋转，并且多个转子会同时使用，这样使恩格玛密码机的加密变得非常复杂。有些比较复杂的设计当第一个转子转满26圈，第二个转子就会转一圈，以此类推，就能得到非常复杂的密码，使得破译难度大幅升高。

#### 恩尼格密码机的解密原理

为了确保一条信息能够被正确地加密和解密，**发出和接受信息的恩格码机配置必须完全相同**，**转子的排列顺序，起始位置，接线板连线必须相同**，这些都会被记录在密码本中。

为了避免所有密码都用相同的加密设置来进行加密，操作员会先设置 $n$ 个转子的位置，然后随即生成n个字母的序列```s1```并将其输入到密码机中，之后从密码机得到密文```s2```，之后再次把```s2```输入到密码机中，然后确保得到解密后字符为```s1```，然后操作员会把转子调成```s1```进行加密操作。
而当接受到密文后，接受到的操作员会先按照密码本调到最初的状态，然后首先从信息中读取```s2```破译后得到```s1```，之后再把转子调节到```s1```，进行后续的破译。
